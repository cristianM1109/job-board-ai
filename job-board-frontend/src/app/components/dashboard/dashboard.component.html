<div class="dashboard-container">
    <!-- SecÈ›iunea 1: Joburi Recomandate -->
 <div *ngIf="userCvs.length > 0">
  <section class="recommendation-section">
    <h2>ğŸŒŸ Recommended for you</h2>

    <!-- Spinner afiÈ™at Ã®n timpul Ã®ncÄƒrcÄƒrii -->
    <div *ngIf="isLoadingRecommendations" class="spinner-container">
      <div class="spinner"></div>
    </div>

    <!-- Joburi recomandate -->
    <div *ngIf="!isLoadingRecommendations" class="job-cards-container">
      <div class="job-card recommended" *ngFor="let job of recommendedJobs">
        <h3>{{ job.title }}</h3>
        <p><strong>Companie:</strong> {{ job.company }}</p>
        <p><strong>LocaÈ›ie:</strong> {{ job.location }}</p>
        <button class="details-button" (click)="toggleDetails(job.id)">Vezi Detalii</button>
        <div class="job-details" *ngIf="job.showDetails">
          <p>{{ job.description }}</p>
          <button class="apply-button" (click)="applyForJob(job.url)">AplicÄƒ</button>
        </div>
      </div>
    </div>
  </section>
</div>
    <!-- SecÈ›iunea 2: Joburi Favorite -->
    <section class="favorite-jobs-section">
      <h2>ğŸ’¼ Joburi Favorite</h2>
      <div class="job-cards-container">
        <div class="job-card favorite" *ngFor="let job of favoriteJobs">
          <h3>{{ job.title }}</h3>
          <p><strong>Companie:</strong> {{ job.company }}</p>
          <p><strong>LocaÈ›ie:</strong> {{ job.location }}</p>
          <p><strong>Salariu:</strong> {{ job.salary || 'N/A' }}</p>
          <button class="analyze-button" (click)="analyzeJob(job.id)" [disabled]="loadingJobId === job.id">
            ğŸ” ObÈ›ine RecomandÄƒri
          </button>
  
          <!-- Spinner -->
          <div class="spinner" *ngIf="loadingJobId === job.id"></div>
  
          <!-- RecomandÄƒri AI -->
          <div class="recommendation-results" *ngIf="jobAnalysis?.jobId === job.id">
            <h4>ğŸ“Š RecomandÄƒri AI</h4>
            <p *ngIf="jobAnalysis?.matched_skills?.length">
              <strong>AbilitÄƒÈ›i Potrivite:</strong> {{ jobAnalysis?.matched_skills?.join(', ') }}
            </p>
            <p *ngIf="jobAnalysis?.missing_skills?.length">
              <strong>AbilitÄƒÈ›i LipsÄƒ:</strong> {{ jobAnalysis?.missing_skills?.join(', ') }}
            </p>
            <p *ngIf="jobAnalysis?.recommendations">
              <strong>RecomandÄƒri:</strong>
            </p>
            <p>{{ jobAnalysis?.recommendations }}</p>
          </div>
        </div>
      </div>
    </section>
  </div>
  